<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TabunganKu</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- NAV -->
  <header class="topbar">
    <nav class="nav">
      <a href="#" data-tab="beranda" class="chip active">Beranda</a>
      <a href="#" data-tab="nasabah" class="chip">Nasabah</a>
      <a href="#" data-tab="admin" class="chip">Admin</a>
      <a href="#" id="nav-logout" class="chip danger" style="display:none">Logout</a>
    </nav>
  </header>

  <!-- LOGIN -->
  <section id="login-section" class="card tab admin-tab">
    <h2>Login Admin</h2>
    <div class="row">
      <input id="user" placeholder="Username">
      <input id="pass" placeholder="Password" type="password">
      <button id="btnLogin">Login</button>
    </div>
    <p id="loginMsg" class="muted"></p>
  </section>

  <!-- DASHBOARD / ADMIN -->
  <section id="dashboard" class="card tab beranda-tab" style="display:none">
    <h1>Dashboard Tabungan</h1>
    <p id="msg" class="warn"></p>

    <div class="stats">
      <div class="stat"><small>Total Nasabah</small><h2 id="statNasabah">0</h2></div>
      <div class="stat"><small>Total Saldo</small><h2 id="statSaldo">Rp 0</h2></div>
      <div class="stat"><small>Saldo Rata-rata</small><h2 id="statRata">Rp 0</h2></div>
    </div>

    <div class="divider"></div>

    <h2>Daftar Nasabah</h2>
    <div class="muted">Tekan “Link” untuk salin tautan publik nasabah (tanpa login).</div>
    <table id="tNasabah" class="table">
      <thead><tr><th>Nama</th><th>Saldo</th><th>Aksi</th><th>Link</th></tr></thead>
      <tbody></tbody>
    </table>

    <div class="divider"></div>

    <h2>Tambah Nasabah Baru</h2>
    <div class="row">
      <input id="namaBaru" placeholder="Nama Nasabah">
      <input id="saldoBaru" placeholder="Saldo Awal" inputmode="numeric">
      <button id="btnTambah">Tambah Nasabah</button>
    </div>

    <h2>Edit Saldo</h2>
    <div class="row">
      <input id="namaEdit" placeholder="Nama Nasabah">
      <input id="saldoEdit" placeholder="Jumlah" inputmode="numeric">
      <select id="aksiEdit">
        <option value="tambah">Tambah Saldo</option>
        <option value="kurangi">Kurangi Saldo</option>
        <option value="koreksi">Koreksi (Penyesuaian)</option>
      </select>
      <input id="catatanEdit" placeholder="Catatan (opsional)" style="flex:1;min-width:220px">
      <button id="btnEdit">Simpan</button>
    </div>
  </section>

  <!-- TAB NASABAH (ringkas) -->
  <section id="nasabah-tab" class="card tab nasabah-tab" style="display:none">
    <h2>Nasabah</h2>
    <table id="tNasabah2" class="table">
      <thead><tr><th>Nama</th><th>Saldo</th><th>Link</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

  <!-- HALAMAN PUBLIK: /?n=Nama -->
  <section id="public-view" class="card" style="display:none">
    <div class="trust">
      <strong>Tabunganmu aman 100%</strong> — bisa ditarik kapan saja di <strong>Hepi Susanto</strong>.
      <br>Tanpa biaya admin untuk simpan setelah 1 bulan.
    </div>

    <h1 id="pv-title" class="mt16">Halo, ...</h1>
    <p class="muted" id="pv-note">Tautan pribadi nasabah.</p>

    <div class="stat big">
      <small>Saldo Anda</small>
      <h2 id="pv-saldo">Rp 0</h2>
    </div>

    <div class="row">
      <input id="pv-amount" placeholder="Nominal (contoh 100.000)" inputmode="numeric">
    </div>
    <div class="row">
      <button id="pv-add">Tambah Tabungan</button>
      <button id="pv-withdraw" class="secondary">Tarik Tabungan</button>
    </div>

    <div class="divider"></div>
    <h2>Riwayat Transaksi</h2>
    <div id="pv-empty" class="muted">Belum ada transaksi.</div>
    <table id="pv-history" class="table">
      <thead><tr><th>Tanggal</th><th>Jenis</th><th>Nominal</th><th>Catatan</th></tr></thead>
      <tbody></tbody>
    </table>
    <div class="muted small">Riwayat bersifat informatif. Perubahan saldo resmi dilakukan oleh admin.</div>
  </section>

  <footer class="footer"><small>Tabungan v2 • JSONBin + Vercel</small></footer>

  <script src="/app.js"></script>
</body>
</html>
